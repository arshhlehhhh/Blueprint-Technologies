<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- Title -->
    <title>Credit - Loan &amp; Credit Company HTML Template</title>

    <!-- Favicon -->
    <link rel="icon" href="img/core-img/favicon.ico">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <!--#### Register Modal Start ####-->
    <div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Register Account</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body">
                <input class="form-control" id="register_name" type="text" placeholder="Name"><br>
                <input class="form-control" id="register_username" type="text" placeholder="Username"><br>
                <input class="form-control" id="register_password" type="password" placeholder="Password"><br>
                <input class="form-control" id="register_confirm_password" type="password" placeholder="Confirm Password">
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" onclick="registerAccount()">Register</button>
            </div>
            </div>
            </div>
        </div>
    </div>
<!--#### Register Modal End ####-->

<!--#### Log In Modal Start ####-->
<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
    <div class="modal-content">
        <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Register Account</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        </div>
        <div class="modal-body">
            <input class="form-control" id="login_username" type="text" placeholder="Username"><br>
            <input class="form-control" id="login_password" type="password" placeholder="Password"><br>
        </div>

        <script>
            loggedin_user = sessionStorage.getItem("loggedin_user");
            // alert(loggedin_user);
        </script>

        <div class="modal-footer">
        
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" onclick="loginAccount()">Log In</button>

        
        </div>
        </div>
        </div>
    </div>
</div>
<!--#### Log In Modal End ####-->



    <!-- Preloader -->
    <div class="preloader d-flex align-items-center justify-content-center">
        <div class="lds-ellipsis">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <!-- ##### Header Area Start ##### -->
    <header class="header-area">
        <!-- Top Header Area -->
        <div class="top-header-area">
            <div class="container h-100">
                <div class="row h-100 align-items-center">
                    <div class="col-12 d-flex justify-content-between">
                        <!-- Logo Area -->
                        <div class="logo">
                            <a href="index.html"><img src="img/core-img/logo.png" alt=""style="height:17%;"></a>
                        </div>

                        <!-- Top Contact Info -->
                        <!-- <div class="top-contact-info d-flex align-items-center">
                            <a href="#" data-toggle="tooltip" data-placement="bottom" title="25 th Street Avenue, Los Angeles, CA"><img src="img/core-img/placeholder.png" alt=""> <span>25 th Street Avenue, Los Angeles, CA</span></a>
                            <a href="#" data-toggle="tooltip" data-placement="bottom" title="office@yourfirm.com"><img src="img/core-img/message.png" alt=""> <span>office@yourfirm.com</span></a>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Navbar Area -->
        <div class="credit-main-menu" id="sticker">
            <div class="classy-nav-container breakpoint-off">
                <div class="container">
                    <!-- Menu -->
                    <nav class="classy-navbar justify-content-between" id="creditNav">

                        <!-- Navbar Toggler -->
                        <div class="classy-navbar-toggler">
                            <span class="navbarToggler"><span></span><span></span><span></span></span>
                        </div>

                        <!-- Menu -->
                        <div class="classy-menu">

                            <!-- Close Button -->
                            <div class="classycloseIcon">
                                <div class="cross-wrap"><span class="top"></span><span class="bottom"></span></div>
                            </div>

                            <!-- Nav Start -->
                            <div class="classynav">
                                <ul>
                                    <li><a href="index.html">Home</a></li>
                                    <li><a href="about.html">About Us</a></li>
                                    
                                    <li><a href="decipher_news.html">Decipher News</a></li>
                                    
                                    <li><a href="demo_account.html">Demo Account</a></li>
                                    <li><a href="peer_benchmarking.html">Peer Benchmarking</a></li>
                                    <li><a href="glossary.html">Glossary</a></li>
                                    
                                </ul>
                            </div>
                            <!-- Nav End -->

                            



                        </div>

                        <!-- Contact -->
                        <div class="contact">
                            
                            <button id="login_btn" type="button" style="margin-top:15%;" class="btn btn-info" data-toggle="modal" data-target="#loginModal">Log In</button>
                            <button id="register_btn" type="button" style="margin-top:15%;" class="btn btn-primary" data-toggle="modal" data-target="#registerModal">Register</button>
                            
    
                            <button id="logout_btn" type="button" style="margin-top:4%;" class="btn btn-danger" onclick="logout()">Logout</button>
                            <img id="profile_picture" src="img/core-img/profile_icon.png" style="width:7%;margin-top:4%;border-radius:50%;;" alt="Avatar">
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- ##### Header Area End ##### -->

    <!-- ##### Hero Area Start ##### -->
    <div class="hero-area">
        <div class="hero-slideshow owl-carousel">

            <!-- Single Slide -->
          

            
                
                <div class="slide-du-indicator"></div>
            </div>

        </div>
    </div>
    <!-- ##### Hero Area End ##### -->

    <!-- ##### Features Area Start ###### -->
    <section class="features-area section-padding-100-0">
        <div class="container">
            <div class="row align-items-end">
                <div class="col-12 col-sm-6 col-lg-3">
                    <div class="single-features-area mb-100 wow fadeInUp" data-wow-delay="100ms">
                        <!-- Section Heading -->
                        <div class="section-heading">
                            <div class="line"></div>
                            <p>Take a look at our</p>
                            <h2>Goals   </h2>
                            <p>Blueprint Technologies aims to empower youths to make smart decisions with their finances by making sense of the labyrinth of financial information available out there! </p>
                        </div>
                        <!-- <h6>In vitae nisi aliquam, scelerisque leo a, volutpat sem. Viva mus rutrum dui fermentum eros hendrerit.</h6> -->
                        <!-- <a href="#" class="btn credit-btn mt-50">Discover</a> -->
                    </div>
                </div>
                <div class="col-12 col-sm-6 col-lg-3">
                    <div class="single-features-area mb-100 wow fadeInUp" data-wow-delay="300ms">
                        <img src="img/bg-img/2.jpg" alt="">
                        <h5>Financial News Decoder</h5>
                    </div>
                </div>
                <div class="col-12 col-sm-6 col-lg-3">
                    <div class="single-features-area mb-100 wow fadeInUp" data-wow-delay="500ms">
                        <img src="img/bg-img/3.jpg" alt="">
                        <h5>SmartSuite</h5>
                    </div>
                </div>
                <div class="col-12 col-sm-6 col-lg-3">
                    <div class="single-features-area mb-100 wow fadeInUp" data-wow-delay="700ms">
                        <img src="img/bg-img/4.jpg" alt="">
                        <h5>Future-Proof Navigator</h5>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ##### Features Area End ###### -->

    <!-- ##### Call To Action Start ###### -->
    
    <!-- ##### Call To Action End ###### -->

    <!-- ##### Call To Action Start ###### -->
    
    <!-- ##### Call To Action End ###### -->

    <!-- ##### Services Area Start ###### -->
    
    <!-- ##### Services Area End ###### -->

    <!-- ##### Miscellaneous Area Start ###### -->
    
    <!-- ##### Miscellaneous Area End ###### -->

    <!-- ##### Newsletter Area Start ###### -->
    <section class="newsletter-area section-padding-100 bg-img jarallax" style="background-image: url(img/bg-img/6.jpg);">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 col-sm-10 col-lg-8">
                    <div class="nl-content text-center">
                        <h2>Subscribe to our newsletter</h2>
                        <form action="#" method="post">
                            <input type="email" name="nl-email" id="nlemail" placeholder="Your e-mail">
                            <button type="submit">Subscribe</button>
                        </form>
                        <p>Curabitur elit turpis, maximus quis ullamcorper sed, maximus eu neque. Cras ultrices erat nec auctor blandit.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ##### Newsletter Area End ###### -->

    <!-- ##### Footer Area Start ##### -->
    
    <!-- ##### Footer Area Start ##### -->

    <!-- ##### All Javascript Script ##### -->
    <!-- jQuery-2.2.4 js -->
    <script src="js/jquery/jquery-2.2.4.min.js"></script>
    <!-- Popper js -->
    <script src="js/bootstrap/popper.min.js"></script>
    <!-- Bootstrap js -->
    <script src="js/bootstrap/bootstrap.min.js"></script>
    <!-- All Plugins js -->
    <script src="js/plugins/plugins.js"></script>
    <!-- Active js -->
    <script src="js/active.js"></script>



    <!-- #### Register Script Start #### -->
    <script>


        function showError(message) {
     
         $("#error").remove();
     
         $('#errormsg-container').append("<label id='error'>"+message+"</label>");
     
        }
     
     
     
     
        myform.addEventListener('submit',function (event) {
     
         event.preventDefault();
     
         sendData();
     
        });
     
     
        
     
        async function registerAccount() {
        
        
         var username = document.getElementById("register_username").value;
     
         var password = document.getElementById("register_password").value;

         var confirm_password = document.getElementById("register_confirm_password").value;

         var name = document.getElementById("register_name").value;
     
         var serviceURL = "http://107.21.167.79:5001/account/" + username
     
     
         if (password == confirm_password) {
    
            // localStorage.email = customer.email;
            try {
     
     const response =

     await fetch(

      serviceURL, {

       method: 'POST',

       headers: { "Content-Type": "application/json"},

       body: JSON.stringify({password:password, name:name})

      }

     );

     

     const data = await response.json();

     var customer = data;
     location.reload();
     alert("Account Registered!");
     $('#registerModal').modal('hide');
     



     
    } catch (error) {

     showError('There is a problem retrieving customer data, please try again later.<br />'+error);

    } 
    

            }

        else {

            showError('Passwords do not match!');

        }
        // window.location.replace('/index.html')
    location.reload();
    $('#registerModal').modal('hide');
    
     
     
     
         
     
        }
     
       </script>
    <!-- #### Register Script End #### -->




    <!-- #### Log In Script Start #### -->
    <script>


        function showError(message) {
     
         $("#error").remove();
     
         $('#errormsg-container').append("<label id='error'>"+message+"</label>");
     
        }
     
     
     
     
        myform.addEventListener('submit',function (event) {
     
         event.preventDefault();
     
         sendData();
     
        });
     
     
        
     
        async function loginAccount() {
        
    
         var username = document.getElementById("login_username").value;
     
         var password = document.getElementById("login_password").value;

     
         var serviceURL = "http://107.21.167.79:5001/account/authenticate/" + username
     
     
        
        try {
     
        const response =

        await fetch(

        serviceURL, {

        method: 'POST',

        headers: { "Content-Type": "application/json"},

        body: JSON.stringify({password:password})
        

      } 

     );

     

    const data = await response.json();

    var customer = data;

    location.reload();
    alert("Logged in!");
    $('#loginModal').modal('hide');
    sessionStorage.setItem("loggedin_user", username);  

     
    } catch (error) {

     showError('There is a problem retrieving customer data, please try again later.<br />'+error);

    } 
    location.reload();
    $('#loginModal').modal('hide');
    sessionStorage.setItem("loggedin_user", username);
    


     
     
     
     
         
     
        }
     
       </script>
    <!-- #### Log In Script End #### -->

    <script>
        // alert(loggedin_user);
        loggedin_user = sessionStorage.getItem("loggedin_user");
        
        if(loggedin_user != null){

            var loginbtn = document.getElementById('login_btn');
            loginbtn.style.display = "none";

            var registerbtn = document.getElementById('register_btn');
            registerbtn.style.display = "none";

        }else{
            // alert(loggedin_user);


            var profilepicture = document.getElementById('profile_picture');
            profilepicture.style.display = "none";

            var logoutbtn = document.getElementById('logout_btn');
            logoutbtn.style.display = "none";
        }

        function logout() {
            alert("You have been logged out!");
            sessionStorage.removeItem('loggedin_user');
            location.reload();
        }
    </script>
</body>

</html>